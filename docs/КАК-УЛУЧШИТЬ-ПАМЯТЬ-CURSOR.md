# Как улучшить память Cursor (меньше OOM)

## 1. Сразу при краше (окно «oom»)

- Поставьте галочку **«Don't restore editors»**.
- Нажмите **Reopen** (не Close).
- После открытия закройте лишние вкладки — оставьте 3–5.

## 2. Каждый день в Cursor

- Держите открытыми **не больше 5–7 вкладок**.
- Тяжёлые файлы (`Dashboard.tsx`, `OrdersMap.tsx`, большие JSON) — по одному, потом закрывайте.
- Длинный чат с AI — начните **New Chat**, старый не держите активным.
- Лишние **расширения** (Extensions) отключите.
- **Одно окно Cursor** с одним проектом.

## 3. Как открывать проект

- Если работаете только с фронтом — откройте в Cursor папку **`web`** (File → Open Folder).
- Если только с бэкендом — откройте **`backend`**.
- Меньше папка = меньше индексации = меньше памяти.

## 4. В Windows

- Закройте браузер с кучей вкладок и другие тяжёлые программы перед Cursor.
- **Диспетчер задач** (Ctrl+Shift+Esc) → завершите лишние процессы «Cursor», если остались после закрытия.
- Включите **файл подкачки** (виртуальная память): Параметры → Система → О программе → Дополнительные параметры системы → Быстродействие → Параметры → Дополнительно → Виртуальная память → Изменить.

## 5. Файл .cursorignore (уже в проекте)

В корне проекта есть **`.cursorignore`** — в нём перечислены папки и файлы, которые Cursor **не индексирует**. Так он меньше ест памяти.

**Чтобы ещё снизить память:** откройте `.cursorignore` и добавьте в самый конец файла эти 4 строки (по одной на строку):

```
**/*.db
**/*.db-journal
**/*.bundle.js
**/bun.lock
```

Сохраните файл. После следующего открытия проекта Cursor будет индексировать меньше файлов.

## 6. Как дать Cursor больше памяти (увеличить лимит)

**Уже сделано:** в проекте есть скрипт, который один раз выставляет переменную. Если вы его ещё не запускали:

- Откройте папку **`scripts`** в проекте.
- Правый клик по **`set-cursor-memory.ps1`** → **Выполнить с помощью PowerShell**  
  (или в PowerShell из корня проекта: `.\scripts\set-cursor-memory.ps1`).
- **Полностью закройте Cursor и откройте снова** — тогда лимит применится.

Скрипт задаёт `NODE_OPTIONS=--max-old-space-size=4096` (4 ГБ) для вашего пользователя. Подробности — в `scripts/README-CURSOR-MEMORY.txt`.

**Ограничение:** у Electron (V8) бывает предел кучи около 4 ГБ. Если OOM не исчезнет, уменьшайте нагрузку: меньше вкладок, `.cursorignore`, открывать только папку `web` или `backend`.

---

## 7. Подробная памятка

Полный список советов — в файле **`CURSOR-TIPS.md`** в корне проекта.
